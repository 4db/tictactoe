<!DOCTYPE html>
<html>
<head>
<style>
table {
    border:1px solid #d4d4d4;
}
td {
    border:1px solid #d4d4d4;
    text-align: center;
    height: 50px;
    width: 50px;
}
</style>

<script type="text/javascript">
  var inD = '0';
  function game(el){
    if(el.innerText == ''){
      inD = inD == '0' ? 'X' : '0';
      el.innerText = inD;
    }

    tds = document.getElementsByTagName('td');
    arr = Array.apply(null, new Array(3)).map(function(val, i) {
      return Array.apply(null, new Array(3)).map(function(val, j) {
        if(i != 0) j=j+3*i;
        if(tds[j].innerText === 'X') return 2;
        if(tds[j].innerText === '0') return 1;
        return 0;
      });
    });
    if(check(arr) == 1 || check(arr) == 0 || check(arr) == 2) alert('replay?');
  }
  function check(arr) {
   board = arr.join('-').replace(/,/g,'');
   if(/222|2...2...2|2....2....2|2..2..2/.test(board)) return 2;
   if(/111|1...1...1|1....1....1|1..1..1/.test(board)) return 1;
   if(/0/.test(board)) return -1;
   return 0;
  }

</script>
</head>

<body>

<table>
  <tr>
    <td onclick='game(this);'>
    </td>
    <td onclick='game(this);'>
    </td>
    <td onclick='game(this);'>
    </td>
  </tr>
  <tr>
    <td onclick='game(this);'>
    </td>
    <td onclick='game(this);'>
    </td>
    <td onclick='game(this);'>
    </td>
  </tr>
  <tr>
    <td onclick='game(this);'>
    </td>
    <td onclick='game(this);'>
    </td>
    <td onclick='game(this);'>
    </td>
  </tr>
</table>

</body>
</html>
